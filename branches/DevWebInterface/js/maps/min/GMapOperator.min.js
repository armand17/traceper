function MapOperator(e){MAP_OPERATOR=this;map=null,document.write("<script type='text/javascript' src='http://maps.google.com/maps/api/js?sensor=false&language="+e+"'></script>"),document.write("<link href='http://code.google.com/apis/maps/documentation/javascript/examples/default.css' rel='stylesheet' type='text/css' />"),MAP_OPERATOR.initialize=function(e){var t={zoom:5,mapTypeId:google.maps.MapTypeId.ROADMAP};MAP_OPERATOR.map=new google.maps.Map(document.getElementById("map"),t);var o=new google.maps.LatLng(e.latitude,e.longitude);MAP_OPERATOR.map.setCenter(o)},MAP_OPERATOR.putMarker=function(e,t,o,n){var i=null;i=1==n?new google.maps.MarkerImage(t,null,null,null,new google.maps.Size(33,36)):{url:t},"undefined"==typeof o&&(o=!0);var e=new google.maps.LatLng(e.latitude,e.longitude),a=new google.maps.Marker({position:e,map:MAP_OPERATOR.map,icon:i,visible:o});return a},MAP_OPERATOR.updateMarkerImage=function(e,t,o){var n=null;n=1==o?new google.maps.MarkerImage(t,null,null,null,new google.maps.Size(33,36)):{url:t},e.setIcon(n)},MAP_OPERATOR.setMarkerVisible=function(e,t){e.setVisible(t)},MAP_OPERATOR.setMarkerPosition=function(e,t){var o=new google.maps.LatLng(t.latitude,t.longitude);e.setPosition(o)},MAP_OPERATOR.initializeInfoWindow=function(e){"undefined"==typeof e&&(e="<div></div>");var t=new google.maps.InfoWindow({content:e});return t},MAP_OPERATOR.openInfoWindow=function(e,t){e.open(MAP_OPERATOR.map,t)},MAP_OPERATOR.closeInfoWindow=function(e){e.close()},MAP_OPERATOR.setInfoWindowCloseListener=function(e,t){google.maps.event.addListener(e,"closeclick",function(){t()})},MAP_OPERATOR.setMarkerClickListener=function(e,t){google.maps.event.addListener(e,"click",function(){t()})},MAP_OPERATOR.setContentOfInfoWindow=function(e,t){e.setContent(t)},MAP_OPERATOR.initializePolyline=function(){var e={strokeColor:"#FF0000",strokeOpacity:5,strokeWeight:3};return poly=new google.maps.Polyline(e),poly.setMap(MAP_OPERATOR.map),poly},MAP_OPERATOR.addPointToPolyline=function(e,t){var o=e.getPath(),n=new google.maps.LatLng(t.latitude,t.longitude);o.push(n)},MAP_OPERATOR.insertPointToPolyline=function(e,t,o){var n=e.getPath(),i=new google.maps.LatLng(t.latitude,t.longitude);n.insertAt(o,i)},MAP_OPERATOR.setPolylineVisibility=function(e,t){var o=0;1==t&&(o=1),e.setOptions({strokeOpacity:o})},MAP_OPERATOR.initializePolygon=function(){var e={strokeColor:"#FF0000",strokeOpacity:5,strokeWeight:3};return polygon=new google.maps.Polygon(e),polygon.setMap(MAP_OPERATOR.map),polygon},MAP_OPERATOR.addPointToGeoFence=function(e,t){var o=e.polygon.getPath(),n=new google.maps.LatLng(t.latitude,t.longitude);o.push(n)},MAP_OPERATOR.insertPointToGeoFence=function(e,t,o){var n=e.polygon.getPath(),i=new google.maps.LatLng(t.latitude,t.longitude);n.insertAt(o,i)},MAP_OPERATOR.removePointFromGeoFence=function(e,t){var o=e.polygon.getPath();o.removeAt(t)},MAP_OPERATOR.removeAllPointsFromGeoFence=function(e){var t=e.polygon.getPath();t.clear()},MAP_OPERATOR.getPointNumberOfGeoFencePath=function(e){var t=e.polygon.getPath(),o=t.length;return o},MAP_OPERATOR.getPointOfGeoFencePath=function(e,t){var o=e.polygon.getPath(),n=o.getAt(t),i=new MapStruct.Location({latitude:n.lat(),longitude:n.lng()});return i},MAP_OPERATOR.setPointOfGeoFencePath=function(e,t,o){var n=e.polygon.getPath(),i=new google.maps.LatLng(t.latitude,t.longitude);n.setAt(o,i)},MAP_OPERATOR.setGeoFenceVisibility=function(e,t){var o=0;1==t&&(o=.6);var n={fillColor:"#FF0000",fillOpacity:o,strokeOpacity:o};e.visibility=t,e.polygon.setOptions(n)},MAP_OPERATOR.initializeGeoFenceControl=function(e,t){var o=!1,n=0,i=!1;return MAP_OPERATOR.removeAllPointsFromGeoFence(e),MAP_OPERATOR.newGeofence=e,null==e.listener?e.listener=google.maps.event.addListener(MAP_OPERATOR.map,"click",function(a){i&&(MAP_OPERATOR.removeAllPointsFromGeoFence(e),i=!1);var l=new MapStruct.Location({latitude:a.latLng.lat(),longitude:a.latLng.lng()});n++,MAP_OPERATOR.addPointToGeoFence(e,l),3==n&&(MAP_OPERATOR.setGeoFenceVisibility(e,!0),MAP_OPERATOR.map.setCenter(a.latLng),i=!0,o=!0,n=0,t(e))}):(google.maps.event.removeListener(e.listener),e.listener=null),o},MAP_OPERATOR.clickFunction=function(e){google.maps.event.addListener(MAP_OPERATOR.map,"click",function(t){e(t)})},MAP_OPERATOR.panMapTo=function(e){var t=new google.maps.LatLng(e.latitude,e.longitude);MAP_OPERATOR.map.panTo(t)},MAP_OPERATOR.trigger=function(e,t){google.maps.event.trigger(e,t)},MAP_OPERATOR.zoomMaxPoint=function(e){var t=new google.maps.MaxZoomService,o=new google.maps.LatLng(e.latitude,e.longitude);t.getMaxZoomAtLatLng(o,function(e){MAP_OPERATOR.map.setCenter(o),MAP_OPERATOR.map.setZoom(e.zoom)})},MAP_OPERATOR.zoomPoint=function(e){var t=MAP_OPERATOR.map.getZoom();t+=1;var o=new google.maps.LatLng(e.latitude,e.longitude);MAP_OPERATOR.map.setCenter(o),MAP_OPERATOR.map.setZoom(t)},MAP_OPERATOR.zoomOutPoint=function(e){var t=MAP_OPERATOR.map.getZoom();t-=1;var o=new google.maps.LatLng(e.latitude,e.longitude);MAP_OPERATOR.map.setCenter(o),MAP_OPERATOR.map.setZoom(t)}}